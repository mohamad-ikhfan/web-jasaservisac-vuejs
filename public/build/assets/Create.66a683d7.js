import{E as h,G as m,o as n,c as y,w as b,L as v,b as k,i as q,t as r,a as s,m as l,e as i,h as c,F as u,n as d,v as p,K as N,x as g,I as $}from"./app.b6dea2fd.js";import{A as w}from"./SideNavLayout.4a2b4e68.js";import{A as L}from"./ActionMessage.c49ab3d5.js";import{_ as A}from"./_plugin-vue_export-helper.cdc0426e.js";const B=h({props:{pesanan:Object,sparepart:Object,penugasan:Array},components:{AppLayout:w,Link:v,ActionMessage:L},data(){return{sparepart_count:1,form:this.$inertia.form({no_pesanan:this.pesanan.no_pesanan,teknisi_nik:this.penugasan,sparepart_id:[],sparepart_qty:[],sparepart_harga:[]})}},methods:{submit(){this.form.post(route("laporan-teknisi.store"))},addQty(){this.form.sparepart_id.length!=this.form.sparepart_qty.length&&this.form.sparepart_qty.push(1);for(let a=0;a<this.form.sparepart_id.length;a++)this.form.sparepart_qty[a].push(1)},formatNumber(a){return Intl.NumberFormat().format(a)}}}),C={class:"flex justify-center"},S={class:"block rounded-lg shadow-lg bg-white min-w-full"},V=s("div",{class:"py-3 px-6 border-b border-gray-300"},[s("h5",{class:"text-gray-900 text-xl font-medium"}," Buat Laporan ")],-1),z={class:"p-5"},j={class:"grid grid-cols-2 space-x-4"},M={class:"p-5"},T={class:"grid grid-cols-2 bg-gray-100 p-5 text-sm border-2 border-b-0 border-gray-300"},U=s("div",{class:"font-semibold"}," Nomor Pesanan ",-1),F={class:"grid grid-cols-2 bg-gray-100 p-5 text-sm border-2 border-b-0 border-gray-300"},K=s("div",{class:"font-semibold"}," Kategori Layanan ",-1),P={class:"capitalize"},Q={class:"grid grid-cols-2 bg-gray-100 p-5 text-sm border-2 border-b-0 border-gray-300"},D=s("div",{class:"font-semibold"}," Nama Layanan ",-1),E={class:"capitalize"},I={class:"grid grid-cols-2 bg-gray-100 p-5 text-sm border-2 border-b-0 border-gray-300"},O=s("div",{class:"font-semibold"}," Jenis Properti ",-1),G={class:"capitalize"},H={class:"grid grid-cols-2 bg-gray-100 p-5 text-sm border-2 border-gray-300"},J=s("div",{class:"font-semibold"},"Alamat",-1),R={class:"capitalize"},W=s("div",{class:"form-group mb-6"},[s("label",{class:"form-label mb-2 text-gray-700 mr-6"},[s("strong",null,"Sparepart Tambahan :")])],-1),X={class:"mb-6"},Y={class:"form-group mb-4"},Z=["for"],x=["onUpdate:modelValue","id"],ss=["selected","value"],as={class:"form-group mb-4"},es=["for"],rs=["onUpdate:modelValue","disabled","id"],ts={class:"mt-3"},os=["disabled"],ns={class:"grid grid-cols-2"},is=s("div",null,[s("button",{type:"button",class:"px-6 py-2.5 text-sm bg-gray-200 text-blue-500 rounded"}," Kembali ")],-1),ds={class:"text-right"},ps=["disabled"];function ls(a,o,ms,bs,cs,us){const _=m("action-message"),f=m("app-layout");return n(),y(f,{title:"Buat Laporan"},{default:b(()=>[k(_,{on:a.$page.props.flash.message},{default:b(()=>[q(r(a.$page.props.flash.message),1)]),_:1},8,["on"]),s("div",C,[s("div",S,[V,s("div",z,[s("form",{onSubmit:o[2]||(o[2]=l((...e)=>a.submit&&a.submit(...e),["prevent"]))},[s("div",j,[s("div",M,[s("div",null,[s("div",T,[U,s("div",null,r(a.pesanan.no_pesanan),1)]),s("div",F,[K,s("div",P,r(a.pesanan.nama_kategori),1)]),s("div",Q,[D,s("div",E,r(a.pesanan.nama_layanan),1)]),s("div",I,[O,s("div",G,r(a.pesanan.properti),1)]),s("div",H,[J,s("div",R,[s("div",null," Nama : "+r(a.pesanan.atas_nama),1),s("div",null," No. Hp : "+r(a.pesanan.no_hp),1),s("div",null," Alamat : "+r(a.pesanan.alamat_lengkap),1),s("div",null," Patokan : "+r(a.pesanan.patokan),1)])])])]),s("div",null,[s("div",null,[W,s("div",X,[(n(!0),i(u,null,c(a.sparepart_count,e=>(n(),i("div",{class:"grid grid-cols-2 space-x-5",key:e},[s("div",Y,[s("label",{for:"sparepart_id_"+e,class:"form-label inline-block mb-2 text-gray-700"},"Sparepart",8,Z),p(s("select",{class:d(["form-select appearance-none block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",a.form.errors.sparepart_id&&!a.form.sparepart_id[e-1]?"focus:border-red-600 border-red-600":"border-gray-300 focus:border-blue-600 focus:outline-none"]),"onUpdate:modelValue":t=>a.form.sparepart_id[e-1]=t,onChange:o[0]||(o[0]=l(t=>a.addQty(),["prevent"])),id:"sparepart_id_"+e},[(n(!0),i(u,null,c(a.sparepart,t=>(n(),i("option",{class:"capitalize",key:t,selected:t.id==a.form.sparepart_id[e-1],value:t.id},r(t.nama_sparepart)+" ("+r("stok: "+t.jumlah)+") ( "+r("Rp."+a.formatNumber(t.harga))+" ) ",9,ss))),128))],42,x),[[N,a.form.sparepart_id[e-1]]]),p(s("div",{class:"text-red-700 text-sm mt-1"},r(a.form.errors.sparepart_id),513),[[g,a.form.errors.sparepart_id&&!a.form.sparepart_id[e-1]]])]),s("div",as,[s("label",{for:"sparepart_qty_"+e,class:"form-label inline-block mb-2 text-gray-700"},"Qty",8,es),p(s("input",{type:"number","onUpdate:modelValue":t=>a.form.sparepart_qty[e-1]=t,disabled:!a.form.sparepart_qty[e-1],class:d(["form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white",a.form.errors.sparepart_qty&&!a.form.sparepart_qty[e-1]?"focus:border-red-600 border-red-600":"border-gray-300 focus:border-blue-600 focus:outline-none"]),min:"1",id:"sparepart_qty_"+e},null,10,rs),[[$,a.form.sparepart_qty[e-1]]]),p(s("div",{class:"text-red-700 text-sm mt-1"},r(a.form.errors.sparepart_qty),513),[[g,a.form.errors.sparepart_qty&&!a.form.sparepart_qty[e-1]]])])]))),128)),s("div",ts,[s("button",{onClick:o[1]||(o[1]=l(e=>a.$emit(a.sparepart_count++),["prevent"])),class:d(["px-4 py-1 5 bg-blue-500 text-gray-50 text-xs rounded-lg",{"opacity-25":a.sparepart_count==a.sparepart.length||a.sparepart.length<1}]),disabled:a.sparepart_count==a.sparepart.length||a.sparepart.length<1}," Tambah Baris ",10,os)])])])])]),s("div",ns,[is,s("div",ds,[s("button",{type:"submit",class:d(["px-6 py-2.5 text-sm bg-blue-500 text-gray-50 rounded",{"opacity-25":a.form.processing}]),disabled:a.form.processing}," Simpan ",10,ps)])])],32)])])])]),_:1})}const ys=A(B,[["render",ls]]);export{ys as default};
