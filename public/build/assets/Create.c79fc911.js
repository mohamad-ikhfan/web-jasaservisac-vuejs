import{E as q,L as V,G as c,o as i,c as $,w as f,b as N,i as w,t as r,a,m as p,v as n,I as g,e as l,f as z,x as m,M as h,h as b,F as u,n as d,K as y}from"./app.59358596.js";import{A as C}from"./SideNavLayout.b3d2adf6.js";import{A as B}from"./ActionMessage.fac309e1.js";import{_ as L}from"./_plugin-vue_export-helper.cdc0426e.js";const U=q({props:{pesanan:Object,teknisi:Object,no_pesanan:String,sparepart:Object},components:{AppLayout:C,Link:V,ActionMessage:B},data(){return{tambahan_part:"ya",teknisi_count:1,sparepart_count:1,form:this.$inertia.form({no_pesanan:this.no_pesanan,sparepart_id:[],sparepart_qty:[],teknisi_nik:[],sparepart_harga:[]})}},methods:{getPesanan:_.throttle(function(){this.$inertia.replace(this.route("laporan-teknisi.create",{no_pesanan:this.form.no_pesanan}))}),submit(){this.form.post(route("laporan-teknisi.store"))},addQty(){this.form.sparepart_id.length!=this.form.sparepart_qty.length&&this.form.sparepart_qty.push(1);for(let e=0;e<this.form.sparepart_id.length;e++)this.form.sparepart_qty[e].push(1)},formatNumber(e){return Intl.NumberFormat().format(e)}}}),P={class:"flex justify-center"},S={class:"block rounded-lg shadow-lg bg-white min-w-full"},A=a("div",{class:"py-3 px-6 border-b border-gray-300"},[a("h5",{class:"text-gray-900 text-xl font-medium"},"Buat Laporan")],-1),T={class:"p-5"},j={class:"grid grid-cols-2 space-x-4"},M={class:"p-5"},F={class:"form-group mb-6"},K=a("label",{for:"pesanan",class:"form-label inline-block mb-2 text-gray-700"},"No Pesanan",-1),O={class:"mt-4 text-right"},Q={key:0},D={class:"grid grid-cols-2 bg-gray-100 p-5 text-sm border-2 border-b-0 border-gray-300"},E=a("div",{class:"font-semibold"},"Nomor Pesanan",-1),I={class:"grid grid-cols-2 bg-gray-100 p-5 text-sm border-2 border-b-0 border-gray-300"},R=a("div",{class:"font-semibold"},"Kategori Layanan",-1),Y={class:"capitalize"},G={class:"grid grid-cols-2 bg-gray-100 p-5 text-sm border-2 border-b-0 border-gray-300"},H=a("div",{class:"font-semibold"},"Nama Layanan",-1),J={class:"capitalize"},W={class:"grid grid-cols-2 bg-gray-100 p-5 text-sm border-2 border-b-0 border-gray-300"},X=a("div",{class:"font-semibold"},"Jenis Properti",-1),Z={class:"capitalize"},x={class:"grid grid-cols-2 bg-gray-100 p-5 text-sm border-2 border-gray-300"},ee=a("div",{class:"font-semibold"},"Alamat",-1),ae={class:"capitalize"},se={class:"form-group mb-6"},te=a("label",{class:"form-label mb-2 text-gray-700 mr-6"},[a("strong",null,"Ada Tambahan Sparepart ?")],-1),oe={class:"form-check form-check-inline"},re=["checked"],ne=a("label",{class:"form-check-label capitalize ml-1",for:"tambahan_part1"},"Ya",-1),ie={class:"form-check form-check-inline"},le=["checked"],de=a("label",{class:"form-check-label capitalize ml-1",for:"tambahan_part2"},"Tidak",-1),pe={class:"mb-6"},me={class:"form-group mb-4"},be=["for"],ue=["onUpdate:modelValue","id"],ce=["selected","value"],fe={class:"form-group mb-4"},ge=["for"],he=["onUpdate:modelValue","disabled","id"],_e={class:"mt-3"},ye=["disabled"],ke=a("div",{class:"form-label mb-2 text-gray-700"},[a("strong",null,"Teknisi Yang Bekerja")],-1),ve=["onUpdate:modelValue"],qe=["selected","value"],Ve={class:"capitalize"},$e={class:"mt-3"},Ne=["disabled"],we={class:"grid grid-cols-2"},ze=a("div",null,[a("button",{type:"button",class:"px-6 py-2.5 text-sm bg-gray-200 text-blue-500 rounded"}," Kembali ")],-1),Ce={class:"text-right"},Be=["disabled"];function Le(e,o,Ue,Pe,Se,Ae){const k=c("action-message"),v=c("app-layout");return i(),$(v,{title:"Buat Laporan"},{default:f(()=>[N(k,{on:e.$page.props.flash.message},{default:f(()=>[w(r(e.$page.props.flash.message),1)]),_:1},8,["on"]),a("div",P,[a("div",S,[A,a("div",T,[a("form",{onSubmit:o[7]||(o[7]=p((...s)=>e.submit&&e.submit(...s),["prevent"]))},[a("div",j,[a("div",M,[a("div",F,[K,n(a("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=s=>e.form.no_pesanan=s),class:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white",id:"pesanan"},null,512),[[g,e.form.no_pesanan]]),a("div",O,[a("button",{type:"button",onClick:o[1]||(o[1]=p((...s)=>e.getPesanan&&e.getPesanan(...s),["prevent"])),class:"px-6 py-2.5 bg-gray-300 text-blue-600 text-sm font-semibold rounded-lg"}," Lihat Pesanan ")])]),e.pesanan?(i(),l("div",Q,[a("div",D,[E,a("div",null,r(e.pesanan.no_pesanan),1)]),a("div",I,[R,a("div",Y,r(e.pesanan.nama_kategori),1)]),a("div",G,[H,a("div",J,r(e.pesanan.nama_layanan),1)]),a("div",W,[X,a("div",Z,r(e.pesanan.properti),1)]),a("div",x,[ee,a("div",ae,[a("div",null,"Nama : "+r(e.pesanan.atas_nama),1),a("div",null,"No. Hp : "+r(e.pesanan.no_hp),1),a("div",null," Alamat : "+r(e.pesanan.alamat_lengkap),1),a("div",null,"Patokan : "+r(e.pesanan.patokan),1)])])])):z("",!0)]),n(a("div",null,[a("div",null,[a("div",se,[te,a("div",oe,[n(a("input",{class:"form-check-input",type:"radio",id:"tambahan_part1",value:"ya",checked:e.tambahan_part=="ya","onUpdate:modelValue":o[2]||(o[2]=s=>e.tambahan_part=s)},null,8,re),[[h,e.tambahan_part]]),ne]),a("div",ie,[n(a("input",{class:"form-check-input",type:"radio",id:"tambahan_part2",value:"tidak",checked:e.tambahan_part=="tidak","onUpdate:modelValue":o[3]||(o[3]=s=>e.tambahan_part=s)},null,8,le),[[h,e.tambahan_part]]),de])]),n(a("div",pe,[(i(!0),l(u,null,b(e.sparepart_count,s=>(i(),l("div",{class:"grid grid-cols-2 space-x-5",key:s},[a("div",me,[a("label",{for:"sparepart_id_"+s,class:"form-label inline-block mb-2 text-gray-700"},"Sparepart",8,be),n(a("select",{class:d(["form-select appearance-none block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",e.form.errors.sparepart_id&&!e.form.sparepart_id[s-1]?"focus:border-red-600 border-red-600":"border-gray-300 focus:border-blue-600 focus:outline-none"]),"onUpdate:modelValue":t=>e.form.sparepart_id[s-1]=t,onChange:o[4]||(o[4]=p(t=>e.addQty(),["prevent"])),id:"sparepart_id_"+s},[(i(!0),l(u,null,b(e.sparepart,t=>(i(),l("option",{class:"capitalize",key:t,selected:t.id==e.form.sparepart_id[s-1],value:t.id},r(t.nama_sparepart)+" ("+r("stok: "+t.jumlah)+") ( "+r("Rp."+e.formatNumber(t.harga))+" ) ",9,ce))),128))],42,ue),[[y,e.form.sparepart_id[s-1]]]),n(a("div",{class:"text-red-700 text-sm mt-1"},r(e.form.errors.sparepart_id),513),[[m,e.form.errors.sparepart_id&&!e.form.sparepart_id[s-1]]])]),a("div",fe,[a("label",{for:"sparepart_qty_"+s,class:"form-label inline-block mb-2 text-gray-700"},"Qty",8,ge),n(a("input",{type:"number","onUpdate:modelValue":t=>e.form.sparepart_qty[s-1]=t,disabled:!e.form.sparepart_qty[s-1],class:d(["form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white",e.form.errors.sparepart_qty&&!e.form.sparepart_qty[s-1]?"focus:border-red-600 border-red-600":"border-gray-300 focus:border-blue-600 focus:outline-none"]),min:"1",id:"sparepart_qty_"+s},null,10,he),[[g,e.form.sparepart_qty[s-1]]]),n(a("div",{class:"text-red-700 text-sm mt-1"},r(e.form.errors.sparepart_qty),513),[[m,e.form.errors.sparepart_qty&&!e.form.sparepart_qty[s-1]]])])]))),128)),a("div",_e,[a("button",{onClick:o[5]||(o[5]=p(s=>e.$emit(e.sparepart_count++),["prevent"])),class:d(["px-4 py-1 5 bg-blue-500 text-gray-50 text-xs rounded-lg",{"opacity-25":e.sparepart_count==e.sparepart.length||e.sparepart.length<1}]),disabled:e.sparepart_count==e.sparepart.length||e.sparepart.length<1}," Tambah Baris ",10,ye)])],512),[[m,e.tambahan_part=="ya"]])]),a("div",null,[ke,(i(!0),l(u,null,b(e.teknisi_count,s=>(i(),l("div",{class:"form-group my-5",key:s},[n(a("select",{class:d(["form-select appearance-none block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",e.form.errors.teknisi_nik&&!e.form.teknisi_nik[s-1]?"focus:border-red-600 border-red-600":"border-gray-300 focus:border-blue-600 focus:outline-none"]),"onUpdate:modelValue":t=>e.form.teknisi_nik[s-1]=t},[(i(!0),l(u,null,b(e.teknisi,t=>(i(),l("option",{class:"capitalize",key:t,selected:t.nik==e.form.teknisi_nik[s-1],value:t.nik},[a("span",Ve,r(t.nik+" : "+t.nama_lengkap),1)],8,qe))),128))],10,ve),[[y,e.form.teknisi_nik[s-1]]]),n(a("div",{class:"text-red-700 text-sm mt-1"},r(e.form.errors.teknisi_nik),513),[[m,e.form.errors.teknisi_nik&&!e.form.teknisi_nik[s-1]]])]))),128)),a("div",$e,[a("button",{onClick:o[6]||(o[6]=p(s=>e.$emit(e.teknisi_count++),["prevent"])),class:d(["px-4 py-1 5 bg-blue-500 text-gray-50 text-xs rounded-lg",{"opacity-25":e.teknisi_count==e.teknisi.length}]),disabled:e.teknisi_count==e.teknisi.length}," Tambah Baris ",10,Ne)])])],512),[[m,e.pesanan]])]),a("div",we,[ze,a("div",Ce,[a("button",{type:"submit",class:d(["px-6 py-2.5 text-sm bg-blue-500 text-gray-50 rounded",{"opacity-25":e.form.processing}]),disabled:e.form.processing}," Simpan ",10,Be)])])],32)])])])]),_:1})}const Ke=L(U,[["render",Le]]);export{Ke as default};
