import{E as v,G as c,o as i,c as q,w as f,L as $,b as V,i as w,t as r,a,m as p,v as n,I as g,e as l,f as N,x as m,M as _,h as b,F as u,n as d,K as h}from"./app.3a833c91.js";import{A as C}from"./SideNavLayout.459f0750.js";import{A as z}from"./ActionMessage.c55be955.js";import{_ as S}from"./_plugin-vue_export-helper.cdc0426e.js";const B=v({props:{pesanan:Object,teknisi:Object,no_pesanan:String,sparepart:Object},components:{AppLayout:C,Link:$,ActionMessage:z},data(){return{no_pesanan:this.no_pesanan,tambahan_part:"ya",teknisi_count:1,sparepart_count:1,form:this.$inertia.form({no_pesanan:this.no_pesanan,sparepart_id:[],sparepart_qty:[],teknisi_nik:[],sparepart_harga:[]})}},methods:{getPesanan(){this.no_pesanan==""?this.$inertia.replace(route("laporan-teknisi.create"),{preserveScroll:!0}):this.$inertia.replace(route("laporan-teknisi.create",{pesanan:this.no_pesanan}),{preserveScroll:!0})},submit(){this.form.post(route("laporan-teknisi.store"))},addQty(){this.form.sparepart_id.length!=this.form.sparepart_qty.length&&this.form.sparepart_qty.push(1);for(let e=0;e<this.form.sparepart_id.length;e++)this.form.sparepart_qty[e].push(1)},formatNumber(e){return Intl.NumberFormat().format(e)}}}),U={class:"flex justify-center"},L={class:"block rounded-lg shadow-lg bg-white min-w-full"},P=a("div",{class:"py-3 px-6 border-b border-gray-300"},[a("h5",{class:"text-gray-900 text-xl font-medium"}," Buat Laporan ")],-1),A={class:"p-5"},T={class:"grid grid-cols-2 space-x-4"},M={class:"p-5"},j={class:"form-group mb-6"},F=a("label",{for:"pesanan",class:"form-label inline-block mb-2 text-gray-700"},"No Pesanan",-1),K={class:"mt-4 text-right"},O={key:0},Q={class:"grid grid-cols-2 bg-gray-100 p-5 text-sm border-2 border-b-0 border-gray-300"},D=a("div",{class:"font-semibold"}," Nomor Pesanan ",-1),E={class:"grid grid-cols-2 bg-gray-100 p-5 text-sm border-2 border-b-0 border-gray-300"},I=a("div",{class:"font-semibold"}," Kategori Layanan ",-1),R={class:"capitalize"},Y={class:"grid grid-cols-2 bg-gray-100 p-5 text-sm border-2 border-b-0 border-gray-300"},G=a("div",{class:"font-semibold"}," Nama Layanan ",-1),H={class:"capitalize"},J={class:"grid grid-cols-2 bg-gray-100 p-5 text-sm border-2 border-b-0 border-gray-300"},W=a("div",{class:"font-semibold"}," Jenis Properti ",-1),X={class:"capitalize"},Z={class:"grid grid-cols-2 bg-gray-100 p-5 text-sm border-2 border-gray-300"},x=a("div",{class:"font-semibold"},"Alamat",-1),ee={class:"capitalize"},ae={class:"form-group mb-6"},se=a("label",{class:"form-label mb-2 text-gray-700 mr-6"},[a("strong",null,"Ada Tambahan Sparepart ?")],-1),te={class:"form-check form-check-inline"},oe=["checked"],re=a("label",{class:"form-check-label capitalize ml-1",for:"tambahan_part1"},"Ya",-1),ne={class:"form-check form-check-inline"},ie=["checked"],le=a("label",{class:"form-check-label capitalize ml-1",for:"tambahan_part2"},"Tidak",-1),de={class:"mb-6"},pe={class:"form-group mb-4"},me=["for"],be=["onUpdate:modelValue","id"],ue=["selected","value"],ce={class:"form-group mb-4"},fe=["for"],ge=["onUpdate:modelValue","disabled","id"],_e={class:"mt-3"},he=["disabled"],ye=a("div",{class:"form-label mb-2 text-gray-700"},[a("strong",null,"Teknisi Yang Bekerja")],-1),ke=["onUpdate:modelValue"],ve=["selected","value"],qe={class:"capitalize"},$e={class:"mt-3"},Ve=["disabled"],we={class:"grid grid-cols-2"},Ne=a("div",null,[a("button",{type:"button",class:"px-6 py-2.5 text-sm bg-gray-200 text-blue-500 rounded"}," Kembali ")],-1),Ce={class:"text-right"},ze=["disabled"];function Se(e,o,Be,Ue,Le,Pe){const y=c("action-message"),k=c("app-layout");return i(),q(k,{title:"Buat Laporan"},{default:f(()=>[V(y,{on:e.$page.props.flash.message},{default:f(()=>[w(r(e.$page.props.flash.message),1)]),_:1},8,["on"]),a("div",U,[a("div",L,[P,a("div",A,[a("form",{onSubmit:o[7]||(o[7]=p((...s)=>e.submit&&e.submit(...s),["prevent"]))},[a("div",T,[a("div",M,[a("div",j,[F,n(a("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=s=>e.no_pesanan=s),class:"form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white",id:"pesanan"},null,512),[[g,e.no_pesanan]]),a("div",K,[a("button",{type:"button",onClick:o[1]||(o[1]=p((...s)=>e.getPesanan&&e.getPesanan(...s),["prevent"])),class:"px-6 py-2.5 bg-gray-300 text-blue-600 text-sm font-semibold rounded-lg"}," Cari Pesanan ")])]),e.pesanan?(i(),l("div",O,[a("div",Q,[D,a("div",null,r(e.pesanan.no_pesanan),1)]),a("div",E,[I,a("div",R,r(e.pesanan.nama_kategori),1)]),a("div",Y,[G,a("div",H,r(e.pesanan.nama_layanan),1)]),a("div",J,[W,a("div",X,r(e.pesanan.properti),1)]),a("div",Z,[x,a("div",ee,[a("div",null," Nama : "+r(e.pesanan.atas_nama),1),a("div",null," No. Hp : "+r(e.pesanan.no_hp),1),a("div",null," Alamat : "+r(e.pesanan.alamat_lengkap),1),a("div",null," Patokan : "+r(e.pesanan.patokan),1)])])])):N("",!0)]),n(a("div",null,[a("div",null,[a("div",ae,[se,a("div",te,[n(a("input",{class:"form-check-input",type:"radio",id:"tambahan_part1",value:"ya",checked:e.tambahan_part=="ya","onUpdate:modelValue":o[2]||(o[2]=s=>e.tambahan_part=s)},null,8,oe),[[_,e.tambahan_part]]),re]),a("div",ne,[n(a("input",{class:"form-check-input",type:"radio",id:"tambahan_part2",value:"tidak",checked:e.tambahan_part=="tidak","onUpdate:modelValue":o[3]||(o[3]=s=>e.tambahan_part=s)},null,8,ie),[[_,e.tambahan_part]]),le])]),n(a("div",de,[(i(!0),l(u,null,b(e.sparepart_count,s=>(i(),l("div",{class:"grid grid-cols-2 space-x-5",key:s},[a("div",pe,[a("label",{for:"sparepart_id_"+s,class:"form-label inline-block mb-2 text-gray-700"},"Sparepart",8,me),n(a("select",{class:d(["form-select appearance-none block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",e.form.errors.sparepart_id&&!e.form.sparepart_id[s-1]?"focus:border-red-600 border-red-600":"border-gray-300 focus:border-blue-600 focus:outline-none"]),"onUpdate:modelValue":t=>e.form.sparepart_id[s-1]=t,onChange:o[4]||(o[4]=p(t=>e.addQty(),["prevent"])),id:"sparepart_id_"+s},[(i(!0),l(u,null,b(e.sparepart,t=>(i(),l("option",{class:"capitalize",key:t,selected:t.id==e.form.sparepart_id[s-1],value:t.id},r(t.nama_sparepart)+" ( "+r("Rp."+e.formatNumber(t.harga))+" ) ",9,ue))),128))],42,be),[[h,e.form.sparepart_id[s-1]]]),n(a("div",{class:"text-red-700 text-sm mt-1"},r(e.form.errors.sparepart_id),513),[[m,e.form.errors.sparepart_id&&!e.form.sparepart_id[s-1]]])]),a("div",ce,[a("label",{for:"sparepart_qty_"+s,class:"form-label inline-block mb-2 text-gray-700"},"Qty",8,fe),n(a("input",{type:"number","onUpdate:modelValue":t=>e.form.sparepart_qty[s-1]=t,disabled:!e.form.sparepart_qty[s-1],class:d(["form-control block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white",e.form.errors.sparepart_qty&&!e.form.sparepart_qty[s-1]?"focus:border-red-600 border-red-600":"border-gray-300 focus:border-blue-600 focus:outline-none"]),min:"1",id:"sparepart_qty_"+s},null,10,ge),[[g,e.form.sparepart_qty[s-1]]]),n(a("div",{class:"text-red-700 text-sm mt-1"},r(e.form.errors.sparepart_qty),513),[[m,e.form.errors.sparepart_qty&&!e.form.sparepart_qty[s-1]]])])]))),128)),a("div",_e,[a("button",{onClick:o[5]||(o[5]=p(s=>e.$emit(e.sparepart_count++),["prevent"])),class:d(["px-4 py-1 5 bg-blue-500 text-gray-50 text-xs rounded-lg",{"opacity-25":e.sparepart_count==e.sparepart.length}]),disabled:e.sparepart_count==e.sparepart.length}," Tambah Baris ",10,he)])],512),[[m,e.tambahan_part=="ya"]])]),a("div",null,[ye,(i(!0),l(u,null,b(e.teknisi_count,s=>(i(),l("div",{class:"form-group my-5",key:s},[n(a("select",{class:d(["form-select appearance-none block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",e.form.errors.teknisi_nik&&!e.form.teknisi_nik[s-1]?"focus:border-red-600 border-red-600":"border-gray-300 focus:border-blue-600 focus:outline-none"]),"onUpdate:modelValue":t=>e.form.teknisi_nik[s-1]=t},[(i(!0),l(u,null,b(e.teknisi,t=>(i(),l("option",{class:"capitalize",key:t,selected:t.nik==e.form.teknisi_nik[s-1],value:t.nik},[a("span",qe,r(t.nik+" : "+t.nama_lengkap),1)],8,ve))),128))],10,ke),[[h,e.form.teknisi_nik[s-1]]]),n(a("div",{class:"text-red-700 text-sm mt-1"},r(e.form.errors.teknisi_nik),513),[[m,e.form.errors.teknisi_nik&&!e.form.teknisi_nik[s-1]]])]))),128)),a("div",$e,[a("button",{onClick:o[6]||(o[6]=p(s=>e.$emit(e.teknisi_count++),["prevent"])),class:d(["px-4 py-1 5 bg-blue-500 text-gray-50 text-xs rounded-lg",{"opacity-25":e.teknisi_count==e.teknisi.length}]),disabled:e.teknisi_count==e.teknisi.length}," Tambah Baris ",10,Ve)])])],512),[[m,e.pesanan]])]),a("div",we,[Ne,a("div",Ce,[a("button",{type:"submit",class:d(["px-6 py-2.5 text-sm bg-blue-500 text-gray-50 rounded",{"opacity-25":e.form.processing}]),disabled:e.form.processing}," Simpan ",10,ze)])])],32)])])])]),_:1})}const Fe=S(B,[["render",Se]]);export{Fe as default};
